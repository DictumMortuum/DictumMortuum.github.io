---
layout: post
title: " Great Weapon Fighting"
date: '2017-11-25T04:36:00.001-08:00'
author: Dictum Mortuum
tags:
- 5e
modified_time: '2017-11-25T04:36:38.613-08:00'
thumbnail: https://1.bp.blogspot.com/-jrKlG-sIC5Q/VPS32la37AI/AAAAAAAAAVY/UmVY1r4zt2s/s72-c/1func.png
blogger_id: tag:blogger.com,1999:blog-173114531970076481.post-6603510871685211200
blogger_orig_url: http://dictummortuum.blogspot.com/2015/03/great-weapon-fighting-and-software-dice.html
---

<a name='more'></a>Lately, I've been playing a paladin in the weekly 5e D&amp;D sessions I have with several friends. He's the kind of guy that uses heavy melee weapons along with the Great Weapon Fighting Fighting Style, which lets you reroll 1s and 2s on damage dice. I also have the Polearm Master and Great Weapon Master feats - a great combination, especially if you have taken the Vengeance oath (which offers single-target advantage 1/short rest) the -5 attack +10 damage is almost always on and hits still go through. Anyway, I digress. I love probabilities and abilities like Great Weapon Fighting which features rerolls are pretty great to research exactly how much effective they are. For these reasons I regularly use the <a href="http://anydice.com/">anydice calculator</a><br />I created a little program that outputs the probability of each roll, as well as the mean and deviation for each d&amp;d die: d4, d6, d8, d10 and d12, <a href="http://anydice.com/program/5611">which you can find here</a>. In my case, since I'm using a halberd, I've got a d10 damage dice:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-jrKlG-sIC5Q/VPS32la37AI/AAAAAAAAAVY/UmVY1r4zt2s/s1600/1func.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-jrKlG-sIC5Q/VPS32la37AI/AAAAAAAAAVY/UmVY1r4zt2s/s1600/1func.png" /></a></div>The function above yields the following results:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-O7eRHGVDljE/VPS3-hVvFzI/AAAAAAAAAVg/usRIKkRk-ps/s1600/1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-O7eRHGVDljE/VPS3-hVvFzI/AAAAAAAAAVg/usRIKkRk-ps/s1600/1.png" /></a></div>As you can see, getting a result of 1 or 2 has just a 4% probability. It's not that big of a deal to be honest, however, if you take into account that paladins do not only have just one damage die, but many more due to their smite ability, the damage bonus from rerolling is pretty significant. As I've got many dice to roll for a single attack and damage roll (imagine being blessed while flanking your enemy, having divine favor on and using smite at the same time) and since I don't really have a dice set, I started using a software dice roller. My party members suggested to me <a href="https://play.google.com/store/apps/details?id=ohm.quickdice&amp;hl=en">Quick Dice Roller</a> - it's a great free app that doesn't have ads, which is awesome.<br />What is great about the app is that you can edit the dice and include your own custom die rolls. Is your attack roll 1d20+3? You can easily edit an existing die or add a new one and set the formula that you like.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-YhI5bIEKZuI/VPS4GHhmBMI/AAAAAAAAAVs/IlD8BScrIEU/s1600/mob1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-YhI5bIEKZuI/VPS4GHhmBMI/AAAAAAAAAVs/IlD8BScrIEU/s320/mob1.png" /></a></div>Recently, the app was updated to include "Named Values", which are global values that you can use in your custom dice rolls. Since my paladin has a strength of 19, I set the named value "strength modifier" to have values from 0 to 5 and set its value to 4.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-CBoMVhesPJU/VPS4JiwNCKI/AAAAAAAAAV0/vFk_xucAB9U/s1600/mob2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-CBoMVhesPJU/VPS4JiwNCKI/AAAAAAAAAV0/vFk_xucAB9U/s320/mob2.png" /></a></div>I then edit the d20 roll to use strength instead of a static +3 value that I have to change all the time when my character levels up.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-w76MJttoBlU/VPS4NG0nYEI/AAAAAAAAAV8/yOHdyLhAjy8/s1600/mob3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-w76MJttoBlU/VPS4NG0nYEI/AAAAAAAAAV8/yOHdyLhAjy8/s320/mob3.png" /></a></div>Voila! The rolls show that the named value with the 'str' code is evaluated to 4.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-KhB_Mq0ocLI/VPS4ZncpjDI/AAAAAAAAAWA/8c-GSlUne4A/s1600/mob4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-KhB_Mq0ocLI/VPS4ZncpjDI/AAAAAAAAAWA/8c-GSlUne4A/s320/mob4.png" /></a></div>Well, all these are pretty simple, however, I decided to automate my attack and damage rolls to the extreme - I wanted to get my character to skip all this rolling and cut to the chase in-battle. Thankfully, Quick Dice Roller includes a function library that's pretty extensive; unfortunately, this library doesn't have an if-then-else or a 'reroll' function, so Great Weapon Fighting is pretty hard to implement with its reroll 1s and 2s.<br />The function that can approximate this ability is the 'Exploding' function. 'Exploding' a die usually means that if you roll the maximum value of that die, you can roll it again and add it to the total; so if you roll a d6 and you get 6, you can roll it again - let's say that the second roll turns up to be 3, then you get a total of 9.<br /><a href="http://www.ohmnibus.net/en/page.asp?Area=Android&amp;Item=QuickDice&amp;Page=Page02#expUp">Quick Dice Roller's exploding function</a> lets you define the target to obtain an explosion - so you can set it to something lower than the maximum value of the die - in my case that threshold would be 2.<br />I decided to implement the formula as following: expUp(1d10, 2, 1d10-2,-1,1) which, in english, means: if you get a die roll equal to or higher than 2, explode it once, but subtract two from the second roll. Unfortunately this isn't what I wanted, as Great Weapon Fighting enables you to reroll on die rolls less than or equal to 2, not higher than that value.<br />Then it hit me! What if you use negative values instead? I didn't know if Quick Dice Roller would support negative values in its functions, but I was pleasantly surprised when I found out it did!<br />Here is the final formula:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-LGyXvGMO05I/VPS42FGKFJI/AAAAAAAAAWI/i3KyF_guNuI/s1600/mob5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-LGyXvGMO05I/VPS42FGKFJI/AAAAAAAAAWI/i3KyF_guNuI/s320/mob5.png" /></a></div>I decided to <a href="http://anydice.com/program/5617">check out my formula with anydice</a>, to see that everything is OK and I'm not doing anything wrong. Unfortunately what I feared was correct:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-uRPXea2zuoE/VPS46ZRhWbI/AAAAAAAAAWQ/84Wku81f6J0/s1600/2func.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-uRPXea2zuoE/VPS46ZRhWbI/AAAAAAAAAWQ/84Wku81f6J0/s1600/2func.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-r2NHcIL5udA/VPS4_CuSKDI/AAAAAAAAAWY/juQDqcAqWVo/s1600/2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-r2NHcIL5udA/VPS4_CuSKDI/AAAAAAAAAWY/juQDqcAqWVo/s1600/2.png" /></a></div>This means that my paladin has 1% chance of dealing 0 damage from that specific die roll and to make matters worse, that 1% is subtracted from the probability of the chance to deal maximum damage, because the die roll chances are shifted (0,1,2,3... instead of 1,2,3,4...). This happens when rolling a -1 on the first roll, and get -1 again on the second roll - then the total is -1 -1 +2 = 0.<br />Unfortunately, unless the application is updated to include a reroll x times on y threshold function or a feature to reference the exploded die roll is added, this can't be fixed, so I'll take it over physically rolling all that dice or making my own application from scratch.<br />My final custom formulas. First of all, here are my named values:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-cKy4yFOOGgg/VPS5EcKS18I/AAAAAAAAAWg/sAQjGJtWRVA/s1600/mob6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-cKy4yFOOGgg/VPS5EcKS18I/AAAAAAAAAWg/sAQjGJtWRVA/s320/mob6.png" /></a></div><pre>level (level) used to determine the proficiency bonus.<br />strength (str) used to determine attack and damage bonus.<br />constitution (con) used to determine hit points.<br />advantage (advan) is the number of d20 dice that will be used when attacking.<br />smite (smt) is the number of smite dice that will be used on the damage roll.<br />blessed (bls) adds a d4 on attack rolls if the named value is set to 1.<br />weapon (wpn) is the weapon damage die. In my case it's d10, so it's set to 10.<br /></pre>And here are the custom formulas for my attack &amp; damage:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-jvtvppuRIfI/VPS5ITFaDII/AAAAAAAAAWo/UUuApW-itRk/s1600/mob7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-jvtvppuRIfI/VPS5ITFaDII/AAAAAAAAAWo/UUuApW-itRk/s320/mob7.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Qb6O29Qw4Sw/VPS5Ltu10pI/AAAAAAAAAWw/NvSAb48JgYc/s1600/mob8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-Qb6O29Qw4Sw/VPS5Ltu10pI/AAAAAAAAAWw/NvSAb48JgYc/s320/mob8.png" /></a></div>Finally, here are some rolls (notice that I got the 0 damage die roll in my first try)!<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-dE695gANp8M/VPS5QzqxweI/AAAAAAAAAW4/AqM5NE6lUp0/s1600/mob9.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-dE695gANp8M/VPS5QzqxweI/AAAAAAAAAW4/AqM5NE6lUp0/s320/mob9.png" /></a></div>Here are some custom formulas, based on the named values above:<br /><pre>(1-abs(advan))*1d20+abs(rak(1d20*advan,abs(advan)+1,1))<br /></pre>Rolls |advan|+1 times 1d20 dice and picks the highest one if advan = 1 or the lowest if advan = -1. If advan = 0 rolls only one die. Use this function to implement advantage/disadvantage.<br /><pre>((level-1)/4)+2<br /></pre>This is the formula for the proficiency bonus, assuming that 'level' holds your current level.<br /><pre>(level-1)*((hd/2)+1) + hd + con*level<br /></pre>Returns your total hit points, assuming that you're using the half+1 rule. 'hd' should hold your hit die (6, 8, 10, etc) and 'level' your total levels. This can be expanded to include all hit dice, but it will be quite complicated for no good reason, as you usually calculate this once and forget about it.   <br /><pre>expup(-1d(wpn),-2,-1d(wpn)+2,0,1)*(-1)<br /></pre>Implements the Great Weapon Fighting ability, as approximate as possible, for the reasons explained above (you're dealing slightly less damage - 6.20 mean instead of 6.30 for a d10 weapon die). 'wpn' is a named value holding your weapon's damage die.<br /><pre>rak(expup(-1d(wpn),-2,-1d(wpn)+2,0,1)*(-1),wpd,wpd)<br /></pre>As above, but with a Roll and Keep (rak) function, just in case you're using a heavy weapon with two damage dice (Greatsword or Maul). 'wpd' is the code for a named value that holds the number of your weapon dice (1 or 2 typically).<br /><pre>rak(expup(-1d8,-2,-1d8+2,0,1)*(-1),smt,smt)<br /></pre>Implements the Great Weapon Fighting ability when using your smite ability. 'smt' is the code for the named value that holds your smite dice - change it before rolling according to the spell level that you're going to expend.<br />Remember that you can also combine all these - for instance, my damage roll looks like this:<br /><pre>Damage<br />rak(expup(-1d(wpn),-2,-1d(wpn)+2,0,1)*(-1),wpd,wpd)+str+10*(hwm)+rak(expup(-1d8,-2,-1d8+2,0,1)*(-1),smt,smt)<br /><br />wpn = 10 (using a halberd)<br />wpd = 1<br />hwm = 1 (I'm always using the -5 attack +10 damage option of heavy weapon master)<br />smt = 0..3 (I'm level 7, so I just have access to 1st- and 2nd-level spells)<br /></pre>and this is my attack formula:<br /><pre>Attack<br />(1-abs(advan))*1d20+abs(rak(1d20*advan,abs(advan)+1,1))+((level-1)/4)+2+str-5*(hwm)+(bls)d4<br /><br />advan = -1,0,1 (based on whether I have advantage/disadvantage or neither<br />str   = 4<br />hwm   = 1<br />bls   = 0,1 (based on if I'm blessed or not)<br /></pre><h3>Addendum</h3>I figured out a way to make the damage function better. You're still going to deal slightly less damage if you use it, 1% of the time, but this way it's not possible to deal 0 damage. Without further ado, <a href="http://anydice.com/program/562a">here's the best formula</a> that approximates Great Weapon Fighting using Quick Dice Roller:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-X2DuyzmHO-E/VPVzHIRoBBI/AAAAAAAAAXM/k9dbuK-uNzw/s1600/3func.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-X2DuyzmHO-E/VPVzHIRoBBI/AAAAAAAAAXM/k9dbuK-uNzw/s1600/3func.png" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-jZlyS-y3VM4/VPVzLUYct1I/AAAAAAAAAXU/CStBPmOpTgk/s1600/3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-jZlyS-y3VM4/VPVzLUYct1I/AAAAAAAAAXU/CStBPmOpTgk/s1600/3.png" /></a></div>As you can see getting a '2' is slightly more possible, but at least the chance of getting a 0 out of it is completely removed - which is great if you're using a weapon with a lower damage die. Here is the final formula:<br /><pre>Damage<br />rak(expup(-1d(wpn),-2,min(-1d(wpn)+2,0),0,1)*(-1),wpd,wpd)+str+10*(hwm)+rak(expup(-1d8,-2,min(-1d8+2,0),0,1)*(-1),smt,smt)<br /><br />wpn = 10 (using a halberd)<br />wpd = 1<br />hwm = 1 (I'm always using the -5 attack +10 damage option of heavy weapon master)<br />smt = 0..3 (I'm level 7, so I just have access to 1st- and 2nd-level spells)<br /></pre>